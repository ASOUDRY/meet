{"version":3,"sources":["Event.jsx","EventList.jsx","CitySearch.jsx","eventNumber.jsx","mockData.js","api.js","App.jsx","serviceWorker.js","index.js"],"names":["Event","props","state","show","event","e","this","setState","className","summary","location","type","onClick","open","Modal","Header","Title","Button","close","Body","href","htmlLink","description","React","Component","EventList","events","map","id","CitySearch","query","suggestions","handleInputChanged","value","target","locations","filter","toUpperCase","indexOf","isClicked","suggestion","updateEvents","handleItemClicked","onChange","EventNumber","number","length","changeInput","passNumber","push","mockData","extractLocations","Set","checkToken","accessToken","a","fetch","then","res","json","catch","error","result","getEvents","NProgress","start","window","startsWith","done","localStorage","setItem","JSON","stringify","getAccessToken","token","removeQuery","url","axios","get","filtered","data","i","pop","console","log","getItem","tokenCheck","removeItem","searchParams","URLSearchParams","search","code","results","authUrl","getToken","history","pushState","pathname","newurl","protocol","host","encodeCode","encodeURIComponent","access_token","App","locationEvents","filtering","storage","shift","first","callback","filterEvents","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message","atatus","install"],"mappings":"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","file":"static/js/main.3e624518.chunk.js","sourcesContent":["import React from \"react\";\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\n\nexport class Event extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      show: false,\n      event: this.props.event \n    };\n  }\n  open(e) {\n   this.setState({show: true})\n  }\n  close(e) {\n    this.setState({show: false});\n  }\n   render() {  \n\n    return  (\n      <div>\n        <div className=\"event\">\n            <h3 className=\"summary\">{this.props.event.summary}</h3>\n            <h3 className=\"location\">{this.props.event.location}</h3>\n            <button type=\"button\" className=\"button\" onClick={() => this.open()}>Show Details</button>\n            <Modal className=\"details\" show={this.state.show} >\n              <Modal.Header>\n                <Modal.Title>{this.props.event.summary}</Modal.Title>\n                <Button onClick={() => this.close()}>Close</Button>\n              </Modal.Header>\n              <Modal.Body>\n              <h4 className=\"location hidden\" >{this.props.event.location}</h4>\n            <a className=\"link hidden\" href={this.props.event.htmlLink}>Website</a>\n            <h4 className=\"description hidden\" >{this.props.event.description}</h4>\n            {/* <h4 className=\"email hidden\" >{this.props.event.creator.email}</h4> */}\n              </Modal.Body>\n            </Modal>\n          </div>\n      </div>\n    )\n}}\nexport default Event;","import React, { Component } from 'react';\nimport Event from './Event';\n\nclass EventList extends Component {\n\n  render() {\n    return (\n    <ul className=\"EventList\">\n      {this.props.events.map(event =>\n        <li key={event.id}>\n          <Event event={event} />\n        </li>\n      )}\n    </ul>\n  );\n  }\n}\n\nexport default EventList;","import React, { Component } from 'react';\n\nclass CitySearch extends Component {\n\n  state = {\n    query: '',\n    suggestions: []\n  }\n\n  handleInputChanged = (event) => {\n    const value = event.target.value;\n    const suggestions = this.props.locations.filter((location) => {\n      return location.toUpperCase().indexOf(value.toUpperCase()) > -1;\n    });\n\n    \n\n  this.isClicked = (suggestion) => {\n    this.setState({\n      query: suggestion,\n      suggestions: []\n    });\n\n    this.props.updateEvents(suggestion);\n  }\n    \n    this.setState({\n      query: value,\n      suggestions: suggestions\n    });\n  };\n\n  handleItemClicked = (suggestion) => {\n    this.setState({\n      query: suggestion\n    });\n  \n    this.props.updateEvents(suggestion);\n  }\n\n  render() {\n    return (\n      <div className=\"CitySearch\">\n          <input\n        type=\"text\"\n        className=\"city\"\n        value={this.state.query}\n        onChange={this.handleInputChanged}\n      />\n       <ul className=\"suggestions\">\n          {this.state.suggestions.map((suggestion) => (\n            <li key={suggestion} onClick={() => this.isClicked(suggestion)}>\n                {suggestion}\n            </li>\n          ))}\n        </ul>\n        <ul className=\"all\" >\n            <li onClick={() => this.handleItemClicked(\"all\")}>\n              <b>See all cities</b>\n            </li>\n      </ul>\n      </div>\n    )\n  }\n}\n\nexport default CitySearch;","import React, { Component } from \"react\";\n\nclass EventNumber extends Component {\n  \n  state = {\n    number: this.props.length\n  }\n\n  componentDidMount() {\n    this.setState({\n      number: this.props.length\n    })\n  }\n\n  changeInput = (event) => {\n    const value = event.target.value;\n    this.setState({\n      number: value\n    })\n    this.props.passNumber(value)\n  }\n\n  render() {\n    let push = this.state.number\n    return (\n      <div className=\"numberOfEvents\">\n        <h1>Number of Events:</h1>\n        <input className=\"input\"\n          type=\"number\"\n          value={push}\n          onChange={this.changeInput}\n        />\n      </div>\n    );\n  }\n}\n\nexport default EventNumber;","const mockData = [\n  {\n   \"kind\": \"calendar#event\",\n   \"etag\": \"\\\"3181161784712000\\\"\",\n   \"id\": \"4eahs9ghkhrvkld72hogu9ph3e_20200519T14083200Z\",\n   \"status\": \"confirmed\",\n   \"htmlLink\": \"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n   \"created\": \"2020-05-19T19:17:46.000Z\",\n   \"updated\": \"2020-05-27T12:01:32.356Z\",\n   \"summary\": \"Learn JavaScript\",\n   \"description\": \"Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \\n\\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.\",\n   \"location\": \"London, UK\",\n   \"creator\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   }\n},\n{\n  \"kind\": \"calendar#event\",\n  \"etag\": \"\\\"3181161784712000\\\"\",\n  \"id\": \"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z1\",\n  \"status\": \"confirmed\",\n  \"htmlLink\": \"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n  \"created\": \"2020-05-19T19:17:46.000Z\",\n  \"updated\": \"2020-05-27T12:01:32.356Z\",\n  \"summary\": \"Learn JavaScript 2\",\n  \"description\": \"Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \\n\\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.\",\n  \"location\": \"London, UK\",\n  \"creator\": {\n   \"email\": \"fullstackwebdev@careerfoundry.com\",\n   \"self\": true\n  }\n},\n{\n  \"kind\": \"calendar#event\",\n  \"etag\": \"\\\"3181159875584000\\\"\",\n  \"id\": \"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z3\",\n  \"status\": \"confirmed\",\n  \"htmlLink\": \"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n  \"created\": \"2020-05-19T19:14:30.000Z\",\n  \"updated\": \"2020-05-27T11:45:37.792Z\",\n  \"summary\": \"React is Fun\",\n  \"description\": \"Love HTML, CSS, and JS? Want to become a cool front-end developer? \\n\\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \\n\\nJoin us in our free React training sessions and give your career a new direction. \",\n  \"location\": \"Berlin, Germany\",\n  \"creator\": {\n   \"email\": \"fullstackwebdev@careerfoundry.com\",\n   \"self\": true\n  },\n},\n  {\n   \"kind\": \"calendar#event\",\n   \"etag\": \"\\\"3181159875584000\\\"\",\n   \"id\": \"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z9\",\n   \"status\": \"confirmed\",\n   \"htmlLink\": \"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n   \"created\": \"2020-05-19T19:14:30.000Z\",\n   \"updated\": \"2020-05-27T11:45:37.792Z\",\n   \"summary\": \"React is Fun 2\",\n   \"description\": \"Love HTML, CSS, and JS? Want to become a cool front-end developer? \\n\\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \\n\\nJoin us in our free React training sessions and give your career a new direction. \",\n   \"location\": \"Berlin, Germany\",\n   \"creator\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   },\n}];\n\nexport { mockData };","import { mockData } from \"./mockData\";\nimport axios from 'axios';\nimport NProgress from 'nprogress';\n\n/**\n *\n * @param {*} events:\n * The following function should be in the “api.js” file.\n * This function takes an events array, then uses map to create a new array with only locations.\n * It will also remove all duplicates by creating another new array using the spread operator and spreading a Set.\n * The Set will remove all duplicates from the array.\n */\nexport const extractLocations = (events) => {\n  var extractLocations = events.map((event) => event.location);\n  var locations = [...new Set(extractLocations)];\n  return locations;\n};\n\nexport const extractTitle = (events) => {\n  var extractSummary = events.map((event) => event.summary);\n  var summary = [...new Set(extractSummary)];\n  return summary;\n};\n\nconst checkToken = async (accessToken) => {\n  const result = await fetch(\n    `https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${accessToken}`\n  )\n    .then((res) => res.json())\n    .catch((error) => error.json());\n\n  return result;\n};\n\nexport const getEvents = async () => {\n  NProgress.start();\nvar locations\n  if (window.location.href.startsWith('http://localhost')) {\n    NProgress.done();\n\n    locations = extractLocations(mockData);\n    localStorage.setItem(\"locations\", JSON.stringify(locations));\n    return mockData;\n  }\n  \n  const token = await getAccessToken();\n\n  if (token) {\n    removeQuery();\n    const url = `https://k3f3961h55.execute-api.us-east-1.amazonaws.com/dev/api/get-events/${token}`;\n    const result = await axios.get(url);\n    let filtered = result.data\n\n    if (filtered.events.length > 32) {\n      let i = filtered.events.length;\n      for (i; i > 32; i--) {\n        filtered.events.pop()\n      }\n      console.log(filtered.events)\n    }\n\n    if (filtered) {\n      locations = extractLocations(filtered.events);\n      localStorage.setItem(\"lastEvents\", JSON.stringify(filtered));\n      localStorage.setItem(\"locations\", JSON.stringify(locations));\n    }\n    NProgress.done();\n    return filtered.events;\n  }\n\n}\n\nexport const getAccessToken = async () => {\n  const accessToken = localStorage.getItem('access_token');\n  const tokenCheck = accessToken && (await checkToken(accessToken));\n  if (!accessToken || tokenCheck.error) {\n    await localStorage.removeItem(\"access_token\");\n    const searchParams = new URLSearchParams(window.location.search);\n    const code = await searchParams.get(\"code\");\n    if (!code) {\n      // trying a slightly different url\n      const results = await axios.get(\n        \"https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar.readonly&response_type=code&client_id=895193534029-j1l6kr4ic9b3gc5or0gp9h38btjpfhci.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Fasoudry.github.io%2Fmeet%2F\"\n      );\n      const { authUrl } = results.data;\n      return (window.location.href = authUrl);\n    }\n    return code && getToken(code);\n  }\n  return accessToken;\n}\n\nconst removeQuery = () => {\n  if (window.history.pushState && window.location.pathname) {\n    var newurl =\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      window.location.pathname;\n    window.history.pushState(\"\", \"\", newurl);\n  } else {\n    newurl = window.location.protocol + \"//\" + window.location.host;\n    window.history.pushState(\"\", \"\", newurl);\n  }\n};\n\nconst getToken = async (code) => {\n  const encodeCode = encodeURIComponent(code);\n  const { access_token } = await fetch(\n    `https://k3f3961h55.execute-api.us-east-1.amazonaws.com/dev/api/token/${encodeCode}`\n  )\n    .then((res) => {\n      return res.json();\n    })\n    .catch((error) => error);\n\n  access_token && localStorage.setItem(\"access_token\", access_token);\n\n  return access_token;\n};","import React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport EventNumber from './eventNumber';\n// import { mockData } from './mockData';\nimport { getEvents, extractLocations } from './api';\nimport \"./nprogress.css\";\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      events: [],\n      locations: [],\n      number: 32,\n      storage: []\n    }\n  }\n\n\ncomponentDidMount() {\n  getEvents().then((first) => {\n    this.setState({\n      events: first,\n      storage: first,\n      number: first.length,\n      locations: extractLocations(first)\n    })\n  })\n}\n\nupdateEvents = (location) => {\n  getEvents().then((events) => {\n    const locationEvents = (location === 'all') ?\n    events :\n    events.filter((event) => event.location === location)\n    this.setState({\n      events: locationEvents,\n      number: locationEvents.length\n    })\n  })\n}\n\npassNumber = (number) => {\n  getEvents().then((event) => {\n    let filtering = event.length\n    if (event.length === number) {\n      this.setState({\n        events: event\n      })\n    }\n    else if (event.length > number) {\n      console.log(this.state.storage)\n      for (number; filtering > number; number++) {\n        event.shift()\n      } \n      this.setState({\n        events: event\n      })\n    }\n    else {\n  }\n  })\n}\n\ncomponentWillUnmount() {\n  // fix Warning: Can't perform a React state update on an unmounted component\n  this.setState = (state,callback)=>{\n      return;\n  };\n}\n\nrender() {\n    return (\n      <div className=\"App\">\n         <CitySearch locations={this.state.locations} updateEvents={this.updateEvents}  />\n         <EventNumber length={this.state.number} passNumber={this.passNumber}/>\n         <EventList events={this.state.events} filterEvents={this.filterEvents} />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === \"[::1]\" ||\n      // 127.0.0.0/8 are considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n  );\n  \n  export function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener(\"load\", () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Let's check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl, config);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              \"This web app is being served cache-first by a service \" +\n                \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n          registerValidSW(swUrl, config);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then((registration) => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === \"installed\") {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                  \"New content is available and will be used when all \" +\n                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                );\n  \n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log(\"Content is cached for offline use.\");\n  \n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch((error) => {\n        console.error(\"Error during service worker registration:\", error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n      headers: { \"Service-Worker\": \"script\" },\n    })\n      .then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get(\"content-type\");\n        if (\n          response.status === 404 ||\n          (contentType != null && contentType.indexOf(\"javascript\") === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log(\n          \"No internet connection found. App is running in offline mode.\"\n        );\n      });\n  }\n  \n  export function unregister() {\n    if (\"serviceWorker\" in navigator) {\n      navigator.serviceWorker.ready\n        .then((registration) => {\n          registration.unregister();\n        })\n        .catch((error) => {\n          console.error(error.message);\n        });\n    }\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as atatus from 'atatus-spa';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\natatus.config('6a4f46985dfa486eb2f647b4c424d558').install();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}